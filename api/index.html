<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - PecheurConnect</title>
    
    <style>
        :root { --primary: #0056b3; }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Roboto, 'Monaco', monospace;
            line-height: 1.6;
            background: #f5f7fa;
        }
        
        .header {
            background: linear-gradient(135deg, #0056b3 0%, #003d7a 100%);
            color: white;
            padding: 60px 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 42px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 30px;
        }
        
        .endpoint {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .method {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 13px;
            margin-right: 10px;
        }
        
        .method.get {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .endpoint-path {
            font-family: 'Monaco', monospace;
            font-size: 18px;
            color: var(--primary);
            font-weight: 600;
        }
        
        .description {
            margin: 15px 0;
            color: #666;
        }
        
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Monaco', monospace;
            font-size: 14px;
        }
        
        .response-example {
            margin-top: 15px;
        }
        
        h2 {
            color: var(--primary);
            margin: 40px 0 20px 0;
            font-size: 28px;
        }
        
        h3 {
            color: #333;
            margin: 20px 0 10px 0;
            font-size: 20px;
        }
        
        .params-table {
            width: 100%;
            margin: 15px 0;
            border-collapse: collapse;
        }
        
        .params-table th {
            background: #f8f9fa;
            padding: 12px;
            text-align: left;
            font-size: 13px;
            color: #666;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .params-table td {
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .required {
            color: #d32f2f;
            font-weight: 600;
            font-size: 12px;
        }
        
        .optional {
            color: #999;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üîå PecheurConnect API</h1>
        <p>API REST pour acc√©der aux donn√©es marines en temps r√©el</p>
        <p style="margin-top: 10px; font-size: 14px;">Version 1.0 - S√©n√©gal üá∏üá≥</p>
    </div>
    
    <div class="container">
        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 30px; border-left: 4px solid #ffc107;">
            <strong>Note:</strong> Cette API est actuellement statique (fichiers JSON). 
            Pour une API REST compl√®te avec endpoints dynamiques, un backend serveur est n√©cessaire.
        </div>
        
        <h2>üöÄ D√©marrage Rapide</h2>
        
        <div class="endpoint">
            <h3>URL de Base</h3>
            <div class="code-block">
                https://doundou969.github.io/sunu-blue-tech/
            </div>
        </div>
        
        <div class="endpoint">
            <h3>Format de R√©ponse</h3>
            <p class="description">Toutes les r√©ponses sont au format JSON</p>
            <div class="code-block">
Content-Type: application/json; charset=utf-8
Access-Control-Allow-Origin: *
            </div>
        </div>
        
        <h2>üìç Endpoints Disponibles</h2>
        
        <!-- Toutes les zones -->
        <div class="endpoint">
            <div>
                <span class="method get">GET</span>
                <span class="endpoint-path">/data.json</span>
            </div>
            
            <p class="description">
                R√©cup√®re les donn√©es actuelles de toutes les zones (18 zones)
            </p>
            
            <h3>Param√®tres</h3>
            <p class="description">Aucun param√®tre requis</p>
            
            <h3>Exemple de Requ√™te</h3>
            <div class="code-block">
fetch('https://doundou969.github.io/sunu-blue-tech/data.json')
  .then(response => response.json())
  .then(data => console.log(data));
            </div>
            
            <h3>R√©ponse</h3>
            <div class="code-block">
[
  {
    "zone": "RUFISQUE",
    "description": "Rufisque",
    "region": "Dakar",
    "lat": 14.72,
    "lon": -17.28,
    "v_now": 1.15,
    "t_now": 18.7,
    "c_now": 0.05,
    "wind_speed": 3.1,
    "wind_direction": 320,
    "visibility": 10,
    "precipitation": 0,
    "weather_desc": "ciel d√©gag√©",
    "humidity": 75,
    "clouds": 10,
    "index": "üêüüêüüêü EXCELLENT",
    "fish_level": "excellent",
    "safety": "üü¢ S√õR",
    "safety_level": "safe",
    "color": "#28a745",
    "danger_score": 15,
    "date": "16/02 16:33",
    "timestamp": "2026-02-16T16:33:00Z",
    "recommendations": [...]
  },
  ...
]
            </div>
        </div>
        
        <!-- Statistiques globales -->
        <div class="endpoint">
            <div>
                <span class="method get">GET</span>
                <span class="endpoint-path">/logs/stats/all_zones.json</span>
            </div>
            
            <p class="description">
                Statistiques historiques (7 jours) pour toutes les zones
            </p>
            
            <h3>Exemple de R√©ponse</h3>
            <div class="code-block">
{
  "RUFISQUE": {
    "zone": "RUFISQUE",
    "period": "7 jours",
    "data_points": 28,
    "history": [...],
    "statistics": {
      "waves": {
        "min": 0.8,
        "max": 2.3,
        "avg": 1.5,
        "trend": "stable"
      },
      "temperature": {...},
      "wind": {...}
    },
    "safety_summary": {
      "safe": 25,
      "caution": 3,
      "warning": 0,
      "danger": 0
    },
    "best_day": {...},
    "worst_day": {...}
  },
  ...
}
            </div>
        </div>
        
        <!-- Zone sp√©cifique -->
        <div class="endpoint">
            <div>
                <span class="method get">GET</span>
                <span class="endpoint-path">/logs/stats/{zone_name}.json</span>
            </div>
            
            <p class="description">
                Statistiques pour une zone sp√©cifique
            </p>
            
            <table class="params-table">
                <thead>
                    <tr>
                        <th>Param√®tre</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>zone_name</code> <span class="required">REQUIS</span></td>
                        <td>string</td>
                        <td>Nom de la zone (ex: rufisque, dakar_yoff)</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Exemple</h3>
            <div class="code-block">
GET /logs/stats/rufisque.json
            </div>
        </div>
        
        <h2>üó∫Ô∏è Zones Disponibles</h2>
        
        <div class="endpoint">
            <table class="params-table">
                <thead>
                    <tr>
                        <th>Zone</th>
                        <th>R√©gion</th>
                        <th>Coordonn√©es</th>
                        <th>Fichier Stats</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>SAINT-LOUIS</td>
                        <td>Nord</td>
                        <td>16.05, -16.65</td>
                        <td><code>saint_louis.json</code></td>
                    </tr>
                    <tr>
                        <td>RUFISQUE</td>
                        <td>Dakar</td>
                        <td>14.72, -17.28</td>
                        <td><code>rufisque.json</code></td>
                    </tr>
                    <tr>
                        <td>MBOUR-JOAL</td>
                        <td>Petite C√¥te</td>
                        <td>14.35, -17.15</td>
                        <td><code>mbour_joal.json</code></td>
                    </tr>
                    <tr>
                        <td colspan="4" style="text-align: center; color: #999;">
                            ... 15 autres zones ...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <h2>üìñ Exemples d'Utilisation</h2>
        
        <div class="endpoint">
            <h3>JavaScript / Fetch API</h3>
            <div class="code-block">
// R√©cup√©rer toutes les zones
async function getAllZones() {
  const response = await fetch(
    'https://doundou969.github.io/sunu-blue-tech/data.json'
  );
  const zones = await response.json();
  return zones;
}

// Filtrer zones s√ªres
async function getSafeZones() {
  const zones = await getAllZones();
  return zones.filter(z => z.safety_level === 'safe');
}

// Trouver zone la plus proche
function findNearestZone(lat, lon, zones) {
  return zones.reduce((nearest, zone) => {
    const distance = Math.sqrt(
      Math.pow(zone.lat - lat, 2) + 
      Math.pow(zone.lon - lon, 2)
    );
    return distance < nearest.distance 
      ? { zone, distance } 
      : nearest;
  }, { distance: Infinity });
}
            </div>
        </div>
        
        <div class="endpoint">
            <h3>Python</h3>
            <div class="code-block">
import requests

# R√©cup√©rer donn√©es
response = requests.get(
    'https://doundou969.github.io/sunu-blue-tech/data.json'
)
zones = response.json()

# Filtrer zones dangereuses
dangerous_zones = [
    z for z in zones 
    if z['safety_level'] in ['danger', 'warning']
]

print(f"Zones √† risque: {len(dangerous_zones)}")
for zone in dangerous_zones:
    print(f"- {zone['zone']}: {zone['safety']}")
            </div>
        </div>
        
        <div class="endpoint">
            <h3>cURL</h3>
            <div class="code-block">
# R√©cup√©rer toutes les zones
curl https://doundou969.github.io/sunu-blue-tech/data.json

# Stats RUFISQUE
curl https://doundou969.github.io/sunu-blue-tech/logs/stats/rufisque.json

# Avec jq pour filtrer
curl -s https://doundou969.github.io/sunu-blue-tech/data.json | \
  jq '.[] | select(.safety_level == "safe")'
            </div>
        </div>
        
        <h2>‚ö†Ô∏è Limites et Consid√©rations</h2>
        
        <div class="endpoint">
            <h3>Rate Limiting</h3>
            <p class="description">
                Aucune limite impos√©e actuellement (h√©bergement GitHub Pages).<br>
                Recommandation: Maximum 60 requ√™tes/minute.
            </p>
            
            <h3>Mise √† Jour des Donn√©es</h3>
            <p class="description">
                Les donn√©es sont actualis√©es automatiquement toutes les <strong>6 heures</strong>.<br>
                Horaires: 00:00, 06:00, 12:00, 18:00 UTC.
            </p>
            
            <h3>CORS</h3>
            <p class="description">
                CORS activ√© pour tous les domaines (<code>Access-Control-Allow-Origin: *</code>)
            </p>
            
            <h3>Cache</h3>
            <p class="description">
                Ajoutez un param√®tre <code>?v=timestamp</code> pour √©viter le cache:<br>
                <code>data.json?v=1708098000</code>
            </p>
        </div>
        
        <h2>üìû Support</h2>
        
        <div class="endpoint">
            <p class="description">
                <strong>Email:</strong> contact@pecheurconnect.sn<br>
                <strong>GitHub:</strong> <a href="https://github.com/doundou969/sunu-blue-tech">doundou969/sunu-blue-tech</a><br>
                <strong>WhatsApp:</strong> +221 77 702 08 18
            </p>
        </div>
        
        <div style="text-align: center; margin: 60px 0 20px 0; color: #666;">
            <p>D√©velopp√© avec ‚ù§Ô∏è pour les p√™cheurs s√©n√©galais</p>
            <p style="margin-top: 10px;">üá∏üá≥ PecheurConnect v3.0</p>
        </div>
    </div>
</body>
</html>
