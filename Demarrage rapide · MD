# ğŸš€ DÃ‰MARRAGE RAPIDE - PECHEURCONNECT v2.1

## âš¡ INSTALLATION EN 5 MINUTES

### 1ï¸âƒ£ PrÃ©requis (2 min)

```bash
# VÃ©rifier Python
python3 --version  # Besoin de 3.11+

# Installer les dÃ©pendances
pip install -r requirements_bot.txt
```

---

### 2ï¸âƒ£ Configuration (2 min)

```bash
# Copier le template
cp .env.example .env

# Ã‰diter avec vos identifiants
nano .env
```

**Identifiants nÃ©cessaires :**

```env
# 1. Copernicus Marine (GRATUIT)
# Inscription: https://data.marine.copernicus.eu/register
COPERNICUS_USERNAME=votre_email@example.com
COPERNICUS_PASSWORD=votre_mot_de_passe

# 2. Bot Telegram (GRATUIT)
# CrÃ©er avec @BotFather sur Telegram
TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11

# 3. Channel Telegram pour notifications (OPTIONNEL)
TELEGRAM_CHAT_ID=-1001234567890
```

---

### 3ï¸âƒ£ Test (30 secondes)

```bash
# Tester la configuration
python3 test_bot_config.py
```

Vous devriez voir :
```
âœ… COPERNICUS_USERNAME: votre_em...
âœ… TELEGRAM_BOT_TOKEN: 12345...
âœ… Bot connectÃ©: PecheurConnect
âœ… Toutes les dÃ©pendances installÃ©es
```

---

### 4ï¸âƒ£ Premier lancement (30 secondes)

```bash
# Rendre les scripts exÃ©cutables
chmod +x start.sh daemon.sh

# Lancer le systÃ¨me
./start.sh
```

**Vous verrez :**
```
[22:30:00] â„¹ï¸ Connexion Ã  Copernicus...
[22:30:02] âœ… ConnectÃ©
[22:30:02] â„¹ï¸ Traitement SAINT-LOUIS...
[22:30:20] âœ…   ğŸŸ¢ SÃ›R | ğŸŒŠ0.92m | ğŸŒ¡ï¸19.3Â°C
...
[22:35:41] âœ… data.json sauvegardÃ© (18 zones)
[22:35:41] ğŸ¤– Bot Telegram dÃ©marrÃ©...
```

---

## ğŸ¯ UTILISATION

### Mode interactif (pour tester)

```bash
./start.sh
```

- Collecte les donnÃ©es
- Lance le bot
- Reste en premier plan
- Ctrl+C pour arrÃªter

### Mode daemon (production)

```bash
# DÃ©marrer
./daemon.sh start

# VÃ©rifier le statut
./daemon.sh status

# Voir les logs en temps rÃ©el
./daemon.sh logs

# ArrÃªter
./daemon.sh stop

# RedÃ©marrer
./daemon.sh restart
```

---

## ğŸ“± UTILISER LE BOT TELEGRAM

### 1. Trouver votre bot
- Ouvrir Telegram
- Chercher le nom que vous avez donnÃ© (@votre_bot)
- Cliquer sur "DÃ©marrer"

### 2. Commandes principales

```
/start          â†’ Accueil
/conditions     â†’ Voir les 18 zones
/zone kayar     â†’ Info sur Kayar
/alertes        â†’ Zones dangereuses
/meilleures     â†’ Top 5 zones
/regions        â†’ Menu par rÃ©gion
/historique mbour â†’ Historique 7 jours
/help           â†’ Aide complÃ¨te
```

### 3. Exemple de conversation

```
Vous: /zone dakar-yoff

Bot: ğŸ“ ZONE: DAKAR-YOFF
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
     ğŸŸ¢ SÃ›R
     â”” ğŸŒŠ Vagues: 1.17m
     â”” ğŸŒ¡ï¸ TempÃ©rature: 21.0Â°C
     â”” ğŸŒ¬ï¸ Vent: 4.1m/s
     â”” ğŸ’¡ Conditions idÃ©ales
     
     ğŸ“… Mise Ã  jour: 20/02 22:30
     
     [ğŸ“Š Historique] [ğŸ”„ Actualiser]
```

---

## ğŸ”§ AUTOMATISATION

### Collecte automatique toutes les 6 heures

Le daemon configure automatiquement un cron job :

```bash
# VÃ©rifier le cron
crontab -l

# Vous devriez voir :
0 */6 * * * cd /chemin/projet && python3 script_peche_complet.py
```

### Collecte manuelle

```bash
# Via le daemon
./daemon.sh collect

# Ou directement
python3 script_peche_complet.py
```

---

## ğŸ“Š FICHIERS GÃ‰NÃ‰RÃ‰S

```
pecheurconnect/
â”œâ”€â”€ data.json                    # DonnÃ©es actuelles
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ history/
â”‚   â”‚   â”œâ”€â”€ 2026-02-20.json     # Historique par jour
â”‚   â”‚   â”œâ”€â”€ 2026-02-21.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ stats/
â”‚   â”‚   â”œâ”€â”€ kayar.json          # Stats par zone
â”‚   â”‚   â”œâ”€â”€ dakar_yoff.json
â”‚   â”‚   â””â”€â”€ all_zones.json      # Stats globales
â”‚   â”œâ”€â”€ bot.log                  # Logs du bot
â”‚   â””â”€â”€ collector.log            # Logs collecte
â””â”€â”€ pecheurconnect.pid           # PID du daemon
```

---

## ğŸ› DÃ‰PANNAGE

### Le bot ne rÃ©pond pas

```bash
# 1. VÃ©rifier le statut
./daemon.sh status

# 2. Voir les logs
./daemon.sh logs

# 3. RedÃ©marrer
./daemon.sh restart
```

### Erreur "Invalid token"

```bash
# VÃ©rifier le token dans .env
cat .env | grep TELEGRAM_BOT_TOKEN

# Re-tester
python3 test_bot_config.py
```

### Pas de donnÃ©es

```bash
# Collecter manuellement
python3 script_peche_complet.py

# VÃ©rifier data.json
cat data.json
```

### Erreur Copernicus

```bash
# VÃ©rifier les identifiants
cat .env | grep COPERNICUS

# Tester la connexion
python3 -c "
import copernicusmarine as cm
import os
cm.login(
    username=os.getenv('COPERNICUS_USERNAME'),
    password=os.getenv('COPERNICUS_PASSWORD')
)
print('âœ“ Connexion rÃ©ussie')
"
```

---

## ğŸ“ˆ SURVEILLANCE

### Logs en temps rÃ©el

```bash
# Bot
tail -f logs/bot.log

# Collecte
tail -f logs/collector.log

# Les deux
tail -f logs/*.log
```

### VÃ©rifier les derniÃ¨res donnÃ©es

```bash
# DerniÃ¨re mise Ã  jour
stat data.json

# Nombre de zones
cat data.json | python3 -c "import json, sys; print(len(json.load(sys.stdin)))"

# Zones dangereuses
cat data.json | python3 -c "
import json, sys
data = json.load(sys.stdin)
danger = [z for z in data if z['safety_level'] in ['danger', 'warning']]
print(f'{len(danger)} zones Ã  risque')
"
```

---

## ğŸ¨ PERSONNALISATION

### Changer l'intervalle de collecte

```bash
# Ã‰diter le cron (4 heures au lieu de 6)
crontab -e

# Changer de :
0 */6 * * *

# Ã€ :
0 */4 * * *
```

### Ajouter une zone

```python
# Dans script_peche_complet.py
ZONES = {
    # ... zones existantes ...
    "MA-NOUVELLE-ZONE": {
        "lat": 14.50,
        "lon": -17.00,
        "desc": "Description",
        "region": "RÃ©gion"
    }
}
```

### Modifier les seuils de sÃ©curitÃ©

```python
# Dans script_peche_complet.py
def calculate_safety_level(wave, current):
    if wave > 3.0 or current > 1.0:
        return "ğŸ”´ DANGER", "danger", "#d32f2f"
    elif wave > 2.1 or current > 0.6:  # Modifier ces valeurs
        return "ğŸŸ  PRUDENCE", "warning", "#ff9800"
    # ...
```

---

## âœ… CHECKLIST DE PRODUCTION

- [ ] .env configurÃ© avec tous les identifiants
- [ ] test_bot_config.py rÃ©ussi
- [ ] PremiÃ¨re collecte rÃ©ussie (data.json crÃ©Ã©)
- [ ] Bot Telegram rÃ©pond Ã  /start
- [ ] Daemon lancÃ© en arriÃ¨re-plan
- [ ] Cron job configurÃ©
- [ ] Logs surveillÃ©s
- [ ] Backup quotidien configurÃ©
- [ ] Monitoring en place

---

## ğŸ†˜ SUPPORT

**Documentation complÃ¨te :**
- README.md
- GUIDE_BOT_TELEGRAM.md

**Contact :**
- Telegram: @PecheurConnectSupport
- Email: support@pecheurconnect.sn

---

## ğŸ‰ C'EST PRÃŠT !

Votre systÃ¨me PecheurConnect est maintenant opÃ©rationnel !

Les pÃªcheurs peuvent :
- âœ… Consulter les conditions 24/7 via le bot
- âœ… Recevoir des alertes automatiques
- âœ… Voir l'historique sur 7 jours
- âœ… Trouver les meilleures zones

**Bonne pÃªche ! ğŸŸğŸŒŠ**
