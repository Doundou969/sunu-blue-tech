name: Sunu-Blue-Tech Auto

on:
  schedule:
    - cron: '0 5 * * *'   # 10h Dakar
    - cron: '0 15 * * *'  # 20h Dakar
  workflow_dispatch:

jobs:
  run-script:
    runs-on: ubuntu-latest
    
    steps:
      - name: RÃ©cupÃ©rer le code
        uses: actions/checkout@v4

      - name: Installer Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.12'

      - name: Installer TOUTES les dÃ©pendances (ROBUSTE)
        run: |
          echo "ğŸ“¦ Mise Ã  jour pip..."
          pip install --upgrade pip setuptools wheel
          
          echo "ğŸ“‹ VÃ©rification requirements.txt..."
          ls -la requirements.txt || { echo "âŒ requirements.txt MANQUANT !"; exit 1; }
          
          echo "ğŸ”§ Installation dÃ©pendances..."
          pip install -r requirements.txt

      - name: ExÃ©cuter le script principal
        run: |
          echo "ğŸš€ Lancement du script quotidien..."
          python main.py  # Remplacez par votre script principal
