<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PecheurConnect - Tableau de Bord</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-slate-900 text-white font-sans">

    <nav class="p-4 bg-blue-800 shadow-lg mb-6">
        <h1 class="text-2xl font-bold text-center">ğŸŒŠ PECHEURCONNECT v3.1</h1>
        <p class="text-center text-xs opacity-80">DonnÃ©es Copernicus Marine & OpenWeather</p>
    </nav>

    <main class="container mx-auto px-4">
        <div id="status-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            </div>

        <div class="mt-10 bg-slate-800 p-6 rounded-xl shadow-xl">
            <h2 class="text-xl font-semibold mb-4 text-blue-400">ğŸ“ˆ Tendances des Vagues (7 derniers jours)</h2>
            <canvas id="trendChart" class="w-full h-64"></canvas>
        </div>
    </main>

    <script>
        // Fonction pour charger les donnÃ©es
        async function loadDashboard() {
            try {
                const response = await fetch('data.json');
                const data = await response.json();
                const grid = document.getElementById('status-grid');

                data.forEach(zone => {
                    const card = document.createElement('div');
                    card.className = "p-5 rounded-lg border-l-8 bg-slate-800 " + 
                                   (zone.safety_level === 'safe' ? 'border-green-500' : 'border-red-500');
                    
                    card.innerHTML = `
                        <div class="flex justify-between items-start">
                            <h3 class="text-lg font-bold">${zone.zone}</h3>
                            <span class="text-xs px-2 py-1 bg-slate-700 rounded">${zone.region}</span>
                        </div>
                        <p class="text-3xl font-black my-2">${zone.v_now}m <span class="text-sm font-normal text-slate-400">ğŸŒŠ</span></p>
                        <div class="flex justify-between text-sm">
                            <span>ğŸŒ¡ï¸ ${zone.t_now}Â°C</span>
                            <span>ğŸ’¨ ${zone.wind_speed}m/s</span>
                        </div>
                        <div class="mt-4 font-bold text-center py-2 rounded bg-slate-900">
                            ${zone.safety}
                        </div>
                    `;
                    grid.appendChild(card);
                });
            } catch (err) {
                console.error("Erreur de chargement des donnÃ©es:", err);
            }
        }

        loadDashboard();
    </script>
</body>
</html>
